<?php

namespace Database\Seeders;

use App\Models\Blog;
use App\Models\Category;
use App\Models\User;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;

class CategoryBlogSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
           $categories = [
            ['name' => 'تكنولوجيا'],
            ['name' => 'تعليم'],
            ['name' => 'صحة'],
            ['name' => 'رياضة'],
            ['name' => 'فنون'],
            ['name' => 'سياحة'],
            ['name' => 'طبخ'],
            ['name' => 'اقتصاد'],
            ['name' => 'سياسة'],
            ['name' => 'ثقافة'],
        ];

        foreach ($categories as $category) {
            Category::create($category);
        }


         $blogs = [
            [
                'title' => 'تعلم لغة JavaScript',
                'content' => 'JavaScript هي لغة برمجة تستخدم لإنشاء صفحات ويب تفاعلية. تعمل في جميع المتصفحات وتعد سهلة التعلم للمبتدئين. من أهم مميزاتها دعم المجتمع الواسع وإمكانياتها غير المحدودة في تطوير الويب.',
                'views' => 180,
                'categories' => ['برمجة', 'تكنولوجيا']
            ],
            [
                'title' => 'أساسيات التصميم الجرافيكي',
                'content' => 'التصميم الجرافيكي هو فن التواصل البصري باستخدام النصوص والصور. يتضمن مبادئ أساسية مثل التوازن والتباين والانسجام. المصمم الناجح يجب أن يفهم نظرية الألوان وطباعة الخطوط.',
                'views' => 220,
                'categories' => ['فنون', 'تصميم']
            ],
            [
                'title' => 'الذكاء الاصطناعي وتطبيقاته',
                'content' => 'الذكاء الاصطناعي يحول العالم من حولنا. من السيارات ذاتية القيادة إلى المساعدات الصوتية الذكية. مستقبل العمل سيتغير بشكل جذري مع تطور هذه التقنيات.',
                'views' => 350,
                'categories' => ['تكنولوجيا', 'برمجة']
            ],
            [
                'title' => 'أهمية النوم الصحي',
                'content' => 'النوم الجيد أساس الصحة الجسدية والعقلية. يحتاج الإنسان إلى 7-8 ساعات نوم يومياً. قلة النوم تسبب مشاكل في الذاكرة والتركيز وتضعف المناعة.',
                'views' => 190,
                'categories' => ['صحة', 'نفسية']
            ],
            [
                'title' => 'كيفية إدارة الوقت',
                'content' => 'إدارة الوقت مهارة أساسية للنجاح في الحياة العملية. تحديد الأولويات وتجنب المماطلة من أهم الاستراتيجيات. استخدم أدوات مثل التقويم وقوائم المهام لتنظيم وقتك.',
                'views' => 210,
                'categories' => ['تعليم', 'إدارة']
            ],
            [
                'title' => 'التسويق الرقمي في 2024',
                'content' => 'التسويق الرقمي يشهد تطوراً سريعاً مع ظهور منصات جديدة. التركيز الآن على المحتوى المرئي والتسويق عبر المؤثرين. تحليل البيانات أصبح أساسياً لاتخاذ القرارات التسويقية.',
                'views' => 280,
                'categories' => ['تسويق', 'تكنولوجيا']
            ],
            [
                'title' => 'فوائد القراءة اليومية',
                'content' => 'القراءة توسع الأفق وتنمي الخيال. تقوي الذاكرة وتحسن مهارات التواصل. حتى 30 دقيقة قراءة يومياً يمكن أن تغير حياتك بشكل إيجابي.',
                'views' => 170,
                'categories' => ['تعليم', 'ثقافة']
            ],
            [
                'title' => 'تطوير تطبيقات الجوال',
                'content' => 'سوق تطبيقات الجوال ينمو بسرعة كبيرة. يمكنك البدء بتعلم Flutter أو React Native لتطوير تطبيقات متعددة المنصات. دراسة احتياجات المستخدمين هي مفتاح النجاح.',
                'views' => 240,
                'categories' => ['برمجة', 'تكنولوجيا']
            ],
            [
                'title' => 'الغذاء الصحي والتغذية',
                'content' => 'التغذية السليمة أساس الصحة الجيدة. تناول الخضار والفواكه الطازجة والبروتينات قليلة الدهون. شرب الماء بكميات كافية وتجنب الأطعمة المصنعة.',
                'views' => 200,
                'categories' => ['صحة', 'غذاء']
            ],
            [
                'title' => 'العمل عن بعد ومستقبله',
                'content' => 'العمل عن بعد أصبح واقعاً بعد الجائحة. يتطلب الانضباط الذاتي ومهارات التواصل الفعال. العديد من الشركات تتبنى هذا النظام بشكل دائم الآن.',
                'views' => 260,
                'categories' => ['عمل', 'تكنولوجيا']
            ],
            [
                'title' => 'أساسيات التصوير الفوتوغرافي',
                'content' => 'التصوير الفوتوغرافي فن يحتاج إلى فهم الإضاءة والتركيب. لا تحتاج إلى كاميرا باهظة للبدء، الهواتف الذكية أصبحت قوية. الممارسة المستمرة هي سر التطور.',
                'views' => 180,
                'categories' => ['فنون', 'تصوير']
            ],
            [
                'title' => 'الاستثمار في الأسهم للمبتدئين',
                'content' => 'الاستثمار في البورصة يحتاج إلى دراسة ومعرفة. ابدأ بمبلغ صغير وتعلم من الأخطاء. التنويع في المحفظة الاستثمارية يقلل المخاطر.',
                'views' => 300,
                'categories' => ['اقتصاد', 'استثمار']
            ],
            [
                'title' => 'تعلم اللغة الإنجليزية',
                'content' => 'الإنجليزية لغة عالمية تفتح فرصاً كثيرة. الاستماع اليومي والتحدث والممارسة هي أفضل طرق التعلم. لا تخف من ارتكاب الأخطاء فهي جزء من التعلم.',
                'views' => 230,
                'categories' => ['تعليم', 'لغات']
            ],
            [
                'title' => 'أمن المعلومات والحماية',
                'content' => 'في العصر الرقمي، أمن المعلومات أصبح ضرورياً. استخدام كلمات مرور قوية وتفعيل المصادقة الثنائية. الحذر من رسائل البريد الإلكتروني المشبوهة.',
                'views' => 190,
                'categories' => ['تكنولوجيا', 'أمن']
            ],
            [
                'title' => 'ريادة الأعمال والمشاريع الصغيرة',
                'content' => 'بدء مشروعك الخاص يحتاج إلى فكرة مميزة وتخطيط جيد. دراسة السوق وفهم احتياجات العملاء أساس النجاح. الصبر والمثابرة من أهم صفات رائد الأعمال.',
                'views' => 270,
                'categories' => ['اقتصاد', 'إدارة']
            ],
            [
                'title' => 'السياحة في الوطن العربي',
                'content' => 'الوطن العربي غني بالمعالم السياحية والتاريخية. من أهرامات مصر إلى مدائن صالح في السعودية. السياحة الداخلية تكتسب أهمية كبيرة هذه الأيام.',
                'views' => 160,
                'categories' => ['سياحة', 'ثقافة']
            ],
            [
                'title' => 'البيئة والاستدامة',
                'content' => 'الحفاظ على البيئة مسؤولية جماعية. تقليل النفايات وإعادة التدوير واستخدام الطاقة المتجددة. كل فرد يمكنه المساهمة بحماية كوكب الأرض.',
                'views' => 210,
                'categories' => ['بيئة', 'مجتمع']
            ],
            [
                'title' => 'التأمل وتهدئة العقل',
                'content' => 'التأمل يساعد على تقليل التووتر وزيادة التركيز. ابدأ بـ 10 دقائق يومياً في مكان هادئ. التنفس العميق جزء أساسي من ممارسة التأمل.',
                'views' => 180,
                'categories' => ['صحة', 'نفسية']
            ],
            [
                'title' => 'تعلم الطبخ للمبتدئين',
                'content' => 'الطبخ مهارة حياتية مهمة. ابدأ بالأطباق البسيطة وتدرج في الصعوبة. استخدام المكونات الطازجة يحسن نكهة الطعام وصحتك.',
                'views' => 150,
                'categories' => ['غذاء', 'حياة']
            ],
            [
                'title' => 'تاريخ الحضارة الإسلامية',
                'content' => 'الحضارة الإسلامية قدمت إسهامات كبيرة في العلوم والطب. ازدهرت في العصور الوسطى ونشرت المعرفة. دراسة التاريخ تساعد في فهم الحاضر.',
                'views' => 220,
                'categories' => ['تاريخ', 'ثقافة']
            ],
            [
                'title' => 'أساسيات الكهرباء المنزلية',
                'content' => 'معرفة أساسيات الكهرباء المنزلية مفيدة للجميع. السلامة أولاً عند التعامل مع الأسلاك الكهربائية. استدعاء كهربائي محترف للإصلاحات المعقدة.',
                'views' => 140,
                'categories' => ['حياة', 'تعليم']
            ],
            [
                'title' => 'تعلم العزف على الجيتار',
                'content' => 'العزف على الجيتار هواية ممتعة. ابدأ بتعلم الحبال الأساسية والسلالم الموسيقية. الممارسة اليومية المنتظمة هي مفتاح التقدم.',
                'views' => 170,
                'categories' => ['فنون', 'موسيقى']
            ]
        ];

        // الحصول على جميع الفئات
        $categories = Category::all();

        foreach ($blogs as $blogData) {
            // إنشاء المدونة
            $blog = Blog::create([
                'title' => $blogData['title'],
                'content' => $blogData['content'],
                'views' => $blogData['views'],
                'created_at' => now()->subDays(rand(1, 30)),
            ]);

            // ربط المدونة بعدد عشوائي من الفئات (1-3)
            $randomCategories = $categories->random(rand(1, 3));
            $blog->categories()->attach($randomCategories);
        }

      

    }
}
